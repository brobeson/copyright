#!/usr/bin/env python3

import argparse
import os
import sys

__version__ = '0.0.0'

def exit_if_arguments_are_invalid(arguments):
    if arguments['header_file'] is not None:
        if not os.path.isfile(arguments['header_file']):
            sys.exit('error: ' + arguments['header_file'] + ' does not exist.')

def make_parser():
    parser = argparse.ArgumentParser(
        description='Validate or modify copyright information in software '
        'source files, or any text file. For more information, see '
        'https://github.com/brobeson/copyright.')
    parser.add_argument('--header-file',
        help='The file that contains the header text.')
    parser.add_argument('--version',
        action='version',
        version=__version__,
        help='Display the version, and exit.')
    parser.add_argument('files',
        nargs='+',
        help='The source files to analyze.')
    return parser

if __name__ == '__main__':
    parser = make_parser()
    arguments = vars(parser.parse_args())
    print(arguments)
    exit_if_arguments_are_invalid(arguments)
    sys.exit()
